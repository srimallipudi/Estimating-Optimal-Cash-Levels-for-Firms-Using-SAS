*this program creates the year dummies;
libname tmp1 '\\apporto.com\dfs\SEA\Users\s10_sea\Downloads\SAS_datacodes';
run;
data a1; set tmp1.dummiesraw;
data a2; set a1;
gvkey2=gvkey*1;
nyear=year(datadate);
if not missing(nyear);
if not missing(gvkey2);
proc sort nodupkey; by gvkey2 nyear;
data a3; set a2;
drop consol indfmt datafmt popsrc curcd costat tic fyear datadate gvkey sic;
data a4; set a3;
if nyear>=1975;
proc sort nodupkey; by gvkey2 nyear;
data a5; set a4;
y1975 = (nyear = 1975);
y1976 = (nyear = 1976);
y1977 = (nyear = 1977);
y1978 = (nyear = 1978);
y1979 = (nyear = 1979);
y1980 = (nyear = 1980);
y1981 = (nyear = 1981);
y1982 = (nyear = 1982);
y1983 = (nyear = 1983);
y1984 = (nyear = 1984);
y1985 = (nyear = 1985);
y1986 = (nyear = 1986);
y1987 = (nyear = 1987);
y1988 = (nyear = 1988);
y1989 = (nyear = 1989);
y1990 = (nyear = 1990);
y1991 = (nyear = 1991);
y1992 = (nyear = 1992);
y1993 = (nyear = 1993);
y1994 = (nyear = 1994);
y1995 = (nyear = 1995);
y1996 = (nyear = 1996);
y1997 = (nyear = 1997);
y1998 = (nyear = 1998);
y1999 = (nyear = 1999);
y2000 = (nyear = 2000);
y2001 = (nyear = 2001);
y2002 = (nyear = 2002);
y2003 = (nyear = 2003);
y2004 = (nyear = 2004);
y2005 = (nyear = 2005);
y2006 = (nyear = 2006);
y2007 = (nyear = 2007);
y2008 = (nyear = 2008);
y2009 = (nyear = 2009);
y2010 = (nyear = 2010);
y2011 = (nyear = 2011);
y2012 = (nyear = 2012);
y2013 = (nyear = 2013);
y2014 = (nyear = 2014);
y2015 = (nyear = 2015);
y2016 = (nyear = 2016);
y2017 = (nyear = 2017);
y2018 = (nyear = 2018);
y2019 = (nyear = 2019);
y2020 = (nyear = 2020);
y2021 = (nyear = 2021);
y2022 = (nyear = 2022);

*array year_dummies y1975-y2022;
*do i = 1 to dim(year_dummies);
*	year_dummies[i] = 0;
*end;

*if 1975 <= nyear <= 2022 then do;
*	year_dummies[nyear - 1974] = 1;
*end;

*drop i;
*run;

data a6; set a5;
data tmp1.yeardummiesall1; set a6;
data tmp1.yeardummiesall2; set a6;
data tmp1.yeardummiesall3; set a6;
data tmp1.yeardummiesall4; set a6;
data tmp1.yeardummiesall5; set a6;
data tmp1.yeardummiesall6; set a6;
data tmp1.yeardummiesall7; set a6;
data tmp1.yeardummiesall8; set a6;
data tmp1.yeardummiesall9; set a6;
data tmp1.yeardummiesall10; set a6;
proc means; run;
proc print data=a6 (obs=200); run;
